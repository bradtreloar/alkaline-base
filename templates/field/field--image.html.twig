{#
/**
 * @file
 * Theme override for image fields
 *
 * Wraps image in a figure and adds an optional caption, whch is created by a
 * field template preprocessor.
 */
#}

{%
  set classes = [
    'field',
    field_name|clean_class,
    field_type|clean_class,
  ]
%}
{% for item in items %}
<figure {{ attributes.addClass(classes) }}>
  <picture>
    {{ item.content }}
  </picture>
  {% if item.caption %}
    <figcaption>
      {{ item.caption }}
    </figcaption>
  {% endif %}
</figure>
{% endfor %}